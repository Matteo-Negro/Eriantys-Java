% !TeX document-id = {d5bb7c61-6756-4998-9a43-65568f6e85d3}
% !TeX encoding = UTF-8
% !TeX spellcheck = en_GB
% !TeX TXS-program:compile = txs:///pdflatex/[--shell-escape]

\newcommand{\doublequotes}[1]{``#1''}

\documentclass[a4paper]{article}

\pdfminorversion=7
\pdfcompresslevel=9
\pdfobjcompresslevel=2

\usepackage[hidelinks]{hyperref}
\usepackage[margin=70pt]{geometry}
\usepackage[T1]{fontenc}
\usepackage[utf8]{inputenc}
\usepackage[english]{babel}
\usepackage{graphicx}
\usepackage[underline=false]{pgf-umlsd}
\usepackage{minted}
\usepackage{multicol}
\usepackage{tikz}
\usepackage{verbatim}

\usetikzlibrary{arrows, shadings}

\setlength{\parindent}{0pt}

\title{\textbf{Eriantys Protocol Documentation}}
\author{Riccardo Milici, Riccardo Motta, Matteo Negro\\Group 2}
\date{A.Y. 2021 - 2022}

\hypersetup{
	pdftitle={Eriantys Protocol Documentation},
	pdfauthor={Riccardo Milici, Riccardo Motta, Matteo Negro}
}

\begin{document}

	\maketitle

	\tableofcontents

	\pagebreak

	\section{Messages}

	\subsection{Ping}

	This message is sent from the server to each client in order to check if they're still online.

	\paragraph{Request}

	\begin{minted}[samepage, tabsize=2]{json}
{
	"type": "ping"
}
	\end{minted}

	\paragraph{Response}

	\begin{minted}[samepage, tabsize=2]{json}
{
	"type": "pong"
}
	\end{minted}

	\subsection{Error}

	This message is sent whenever an error occurs.

	\paragraph{Request} Parameters:

	\begin{itemize}
		\item \verb|message|: a text which describes the cause of the error.
	\end{itemize}

	\begin{minted}[samepage, tabsize=2]{json}
{
	"type": "error",
	"message": "Cause"
}
	\end{minted}

	\paragraph{Response} This message doesn't require a response.

	\subsection{Game creation}

	This message is sent from the client to the server in order to create a new game with the specified parameters.

	\paragraph{Request} Parameters:

	\begin{itemize}
		\item \verb|playersNumber|: the total number of the players needed for the game;
		\item \verb|expert|: a boolean parameter which indicates the difficulty level of the game.
	\end{itemize}

	\begin{minted}[samepage, tabsize=2]{json}
{
	"type": "gameCreation",
	"playersNumber": 2,
	"expert": false
}
	\end{minted}

	\paragraph{Response} Parameters:

	\begin{itemize}
		\item \verb|code|: the alphanumerical game identification code generated by the server.
	\end{itemize}

	\begin{minted}[samepage, tabsize=2]{json}
{
 "type": "gameCreation",
 "code": "ABC12"
}
	\end{minted}

	\subsection{Enter game}

	This message is sent from the client to the server in order to search for a desired game and begin the login sequence.

	\paragraph{Request} Parameters:

	\begin{itemize}
		\item \verb|code|: the alphanumerical game identification code generated by the server.
	\end{itemize}

	\begin{minted}[samepage, tabsize=2]{json}
{
	"type": "enterGame",
	"code": "ABC12"
}
	\end{minted}

	\paragraph{Responses} Parameters:

	\begin{itemize}
		\item \verb|found|: a boolean parameter which indicates if the searched game has been found.
		\item \verb|expectedPlayers|: the number of the players needed for the searched game.
		\item \verb|players|: a list of the players signed in the game, with their name and connection status.
	\end{itemize}

	\begin{multicols}{2}

	\begin{minted}[samepage, tabsize=2]{json}
{
	"type": "enterGame",
	"found": true,
	"expectedPlayers": 3,
	"players": [
		{
			"name": "Player 1",
			"online": true
		},
		{
			"name": "Player 2",
			"online": false
		}
	]
}
		\end{minted}

	\begin{minted}[samepage, tabsize=2]{json}
{
	"type": "enterGame",
	"found": false
}
		\end{minted}

	\end{multicols}

	\subsection{Waiting room update}

	This message is periodically sent from the server to the client in order to update the waiting room players list.

	\paragraph{Request} Parameters:

	\begin{itemize}
		\item \verb|expectedPlayers|: the total players number of the game.
		\item \verb|players|: the players that are currently online.
	\end{itemize}

	\begin{minted}[samepage, tabsize=2]{json}
{
	"type": "waitingRoomUpdate",
	"expectedPlayers": "3",
	"players": [
		{
			"name": "Player 1",
			"online": true
		},
		{
			"name": "Player 2",
			"online": false
		}
	]
}
	\end{minted}

	\paragraph{Response} This message doesn't require a response.

	\subsection{Player login}

	This message is sent from the client to the server in order to log into a game, after the desired game has been found and a username has been selected.

	\paragraph{Request} Parameters:

	\begin{itemize}
		\item \verb|name|: the name choosen by the player.
	\end{itemize}

	\begin{minted}[samepage, tabsize=2]{json}
{
	"type": "login",
	"name": "Player 2"
}
	\end{minted}

	\paragraph{Response} Parameters:

	\begin{itemize}
		\item \verb|success|: a boolean parameter which indicates if the login sequence has been completed successfully.
	\end{itemize}

	\begin{minted}[samepage, tabsize=2]{json}
{
	"type": "login",
	"success": true
}
	\end{minted}

	\subsection{Player logout}

	This message is sent from the client to the server in order to log out from a game.

	\paragraph{Request} Parameters:

	\begin{itemize}
		\item \verb|name|: the name choosen by the player.
	\end{itemize}

	\begin{minted}[samepage, tabsize=2]{json}
{
	"type": "logout"
}
	\end{minted}

	\paragraph{Response} This message doesn't need a response.

	\subsection{Turn enable}

	This message is sent from the server to a specific client, every turn to enable or disable the game of the player that receives this message, in order to manage the game shifting.

	\paragraph{Requests} Parameters:

	\begin{itemize}
		\item \verb|player|: the player involved into the communication token exchange.
		\item \verb|enable|: a boolean parameter which indicates whether the player can play.
	\end{itemize}

	\begin{multicols}{2}
		\begin{minted}[samepage, tabsize=2]{json}
{
	"type": "turnEnable",
	"player": "Player1",
	"enable": true
}
		\end{minted}
		\begin{minted}[samepage, tabsize=2]{json}
{
	"type": "turnEnable",
	"player": "Player1",
	"enable": false
}
		\end{minted}
	\end{multicols}

	\paragraph{Response} This message doesn't require a response.
	
	\pagebreak

	\subsection{Game start}

	This message is sent from the server to all the clients, telling that the game is full and it's starting.

	\begin{multicols}{2}
		\begin{minted}[samepage, tabsize=2]{json}
{
	"type": "gameStart"
}
		\end{minted}
	\end{multicols}

	\paragraph{Response} This message doesn't require a response.

	\subsection{Commands}

	These messages are sent from the client to the server during the game, in order to tell the server how and what the player wants to play. After the server has updated the game model, it will notify the other player's clients about this move.

	\subsubsection{Play assistant}

	\paragraph{Request} Parameters:

	\begin{itemize}
		\item \verb|player|: the player that's performing the move.
		\item \verb|assistant|: the identification number of the assistant card played.
	\end{itemize}

	\begin{minted}[samepage, tabsize=2]{json}
{
	"type": "command",
	"subtype": "playAssistant",
	"player": "Player 1",
	"assistant": 4
}
	\end{minted}

	\paragraph{Response} This message doesn't require a response.

	\subsubsection{Move student}

	\paragraph{Requests} Parameters:

	\begin{itemize}
		\item \verb|player|: the player that's performing the move.
		\item \verb|color|: the student's colour.
		\item \verb|from|: where the student was before the movement.
		\item \verb|to|: where the student will be after the movement.
		\item \verb|fromId|: the identification number of the place where the student comes from.
		\item \verb|toId|: the identification number of the place where the student has to move.
		\item \verb|special|: a boolean flag that indicates if the move is caused by a special character's effect.
	\end{itemize}

	\begin{multicols}{3}
		\begin{minted}[samepage, tabsize=2]{json}
{
	"type": "command",
	"subtype": "move",
	"pawn": "student",
	"player": "Player 1",
	"color": "RED",
	"from": "entrance",
	"to": "diningRoom",
	"fromId": null,
	"toId": null,
	"special": false
}
		\end{minted}

	\begin{minted}[samepage, tabsize=2]{json}
{
	"type": "command",
	"subtype": "move",
	"pawn": "student",
	"player": "Player 1",
	"color": "RED",
	"from": "entrance",
	"to": "island",
	"fromId": null,
	"toId": 0,
	"special": false
}
		\end{minted}

	\begin{minted}[samepage, tabsize=2]{json}
{
	"type": "command",
	"subtype": "move",
	"pawn": "student",
	"player": "Player 1",
	"color": "RED",
	"from": "card",
	"to": "entrance",
	"fromId": 1,
	"toId": null,
	"special": true
}
		\end{minted}
	\end{multicols}

	\paragraph{Response} This message doesn't require a response.

	\subsubsection{Move mother nature}

	\paragraph{Request} Parameters:

	\begin{itemize}
		\item \verb|island|: the identification number of the island where mother nature has to move.
		\item \verb|move|: a boolean flag that indicates if mother nature has to be effectively moved.
	\end{itemize}

	\begin{minted}[samepage, tabsize=2]{json}
{
	"type": "command",
	"subtype": "move",
	"pawn": "motherNature",
	"island": 0,
	"move": true
}
	\end{minted}

	\paragraph{Response} This message doesn't require a response.

	\subsubsection{Ban}

	\paragraph{Request} Parameters:

	\begin{itemize}
		\item \verb|island|: the identification number of the island that will be ban (special character's effect).
	\end{itemize}

	\begin{minted}[samepage, tabsize=2]{json}
{
	"type": "command",
	"subtype": "ban",
	"island": 0
}
	\end{minted}

	\paragraph{Response} This message doesn't require a response.

	\subsubsection{Ignore color}

	\paragraph{Request} Parameters:

	\begin{itemize}
		\item \verb|color|: the color to ignore during an island resolution.
	\end{itemize}

	\begin{minted}[samepage, tabsize=2]{json}
{
	"type": "command",
	"subtype": "ignore",
	"color": "BLUE"
}
	\end{minted}

	\paragraph{Response} This message doesn't require a response.

	\subsubsection{Return color}

	\paragraph{Request} Parameters:

	\begin{itemize}
		\item \verb|color|: the color of the students to move back from the dining room to the entrance.
	\end{itemize}

	\begin{minted}[samepage, tabsize=2]{json}
{
	"type": "command",
	"subtype": "return",
	"color": "RED"
}
	\end{minted}

	\paragraph{Response} This message doesn't require a response.

	\subsubsection{Pay character}

	\paragraph{Request} Parameters:

	\begin{itemize}
		\item \verb|player|: the player that's performing the move.
		\item \verb|character|: the identification number of the character that will be activated.
	\end{itemize}

	\begin{minted}[samepage, tabsize=2]{json}
{
	"type": "command",
	"subtype": "pay",
	"player": "Player 1",
	"character": 1
}
	\end{minted}

	\paragraph{Response} This message doesn't require a response.

	\subsubsection{Refill entrance}

	This message is sent from a specific client to the server (which then redirects the same massage to all the other clients to update their views) when the player, at the end of his/her turn, takes the students from a cloud to refill the entrance.

	\paragraph{Request} Parameters:

	\begin{itemize}
		\item \verb|player|: the name of the player that takes the students.
		\item \verb|cloud|: the cloud from which the player takes the students.
	\end{itemize}

	\begin{minted}[samepage, tabsize=2]{json}
{
	"type": "command",
	"subtype": "refill",
	"player": "Player 1",
	"cloud": 0
}
	\end{minted}

	\paragraph{Response} This message doesn't require a response.

	\subsection{Win}

	This message is sent from the server to each clients in order to indicate that the game is ended, carrying the winners list.

	\paragraph{Request} Parameters:

	\begin{itemize}
		\item \verb|winners|: A list containing the players that won the game.
	\end{itemize}

	\begin{multicols}{2}
		\begin{minted}[samepage, tabsize=2]{json}
{
	"type": "win",
	"winners": [
		"player 1",
		"player 3"
	]
}
		\end{minted}
	\end{multicols}

	\paragraph{Response} This message doesn't require a response.

	\pagebreak

	\subsection{Status}

	This message is sent from the server to the client in order to reload the game, when it satrtes or whene a player reconnects to the game.

	\paragraph{Request} Parameters: all the parameters that are required to restart or update the game client-side.

	\begin{multicols}{3}
		\begin{minted}[tabsize=2]{json}
{
	"type": "status",
	"round": 1,
	"expert": true,
	"activeUser": "Player 1",
	"phase": "PLANNING",
	"subPhase": "PLAY_ASSISTANT",
	"players": [
		{
			"name": "Player 1",
			"wizardType": "GREEN",
			"coins": 0,
			"assistants": [
				{
					"id": 0,
					"bonus": false
				},
				{
					"id": 10,
					"bonus": false
				}
			],
			"schoolBoard": {
				"towerType": "WHITE",
				"towersNumber": 4,
				"entrance": {
					"BLUE": 1,
					"FUCHSIA": 2,
					"GREEN": 1,
					"RED": 2,
					"YELLOW": 1
				},
				"diningRoom": {
					"BLUE": 1,
					"FUCHSIA": 0,
					"GREEN": 1,
					"RED": 0,
					"YELLOW": 1
				}
			}
		},

		*
	],
	"board": {
		"bag": {
			"BLUE": 20,
			"FUCHSIA": 8,
			"GREEN": 14,
			"RED": 21,
			"YELLOW": 18
		},
		"clouds": [
			{
				"BLUE": 0,
				"FUCHSIA": 0,
				"GREEN": 0,
				"RED": 0,
				"YELLOW": 0
			}

			**
		],
		"islands": [
			{
				"size": 1,
				"tower": "BLACK",
				"ban": false,
				"students": {
					"BLUE": 1,
					"FUCHSIA": 2,
					"GREEN": 0,
					"RED": 0,
					"YELLOW": 0
				}
			}

			***
		],
		"playedAssistants": [
			{
				"player": "Player 1",
				"assistant": 10
			}

			*
		],
		"characters": [
			{
				"id": 0,
				"effectCost": 0,
				"alreadyPaid": false,
				"paidInRound": false,
				"active": false
			}

			****
		],
		"professors": {
			"BLUE": null,
			"FUCHSIA": "Player 1",
			"GREEN": null,
			"RED": null,
			"YELLOW": null
		},
		"motherNatureIsland": 0,
		"ignoreColor": "BLUE",
		"influenceBonus": null
	}
}
		\end{minted}
	\end{multicols}

	* Same pattern for the other players.\newline
	** Same pattern for the other clouds. \newline
	*** Same pattern for the other islands. \newline
	**** Same pattern for the other characters. \newline

	\paragraph{Response} This message doesn't require a response.

	\pagebreak

	\section{Scenarios}

	\subsection{Connection to a game}

	\begin{center}
		\begin{sequencediagram}
			\newthread{c}{client: Client}
			\newinst[3]{u}{user: User}
			\newinst[1]{s}{server: Server}
			\newinst[1]{g}{game: Game}

			\begin{call}{c}{sendMessage(gameCreation)}{u}{gameCreation response}
				\begin{call}{u}{getMessage()}{u}{command}
				\end{call}
				\begin{call}{u}{manageCommand()}{u}{command}
				\end{call}
				\begin{call}{u}{addGame()}{s}{desiredGame}
					\begin{call}{s}{createNewGame()}{g}{command}
					\end{call}
				\end{call}
				\begin{call}{u}{sendMessage()}{u}{implicit ack}
				\end{call}
			\end{call}
			\begin{call}{c}{sendMessage(enterGame)}{u}{enterGame response}
				\begin{call}{u}{getMessage()}{u}{command}
				\end{call}
				\begin{call}{u}{manageCommand()}{u}{command}
				\end{call}
				\begin{call}{u}{findGame()}{s}{gameController}
					\begin{call}{s}{search the desired game}{s}{gameController}
					\end{call}
				\end{call}
				\begin{call}{u}{sendMessage()}{u}{implicit ack}
				\end{call}
			\end{call}
			\begin{call}{c}{sendMessage(login)}{u}{login response}
				\begin{call}{u}{getMessage()}{u}{command}
				\end{call}
				\begin{call}{u}{manageCommand()}{u}{command}
				\end{call}
				\begin{call}{u}{addUser()}{g}{command}
				\end{call}
			\end{call}
		\end{sequencediagram}
	\end{center}

	This scenario represents the game creation phase. The user connects to the game server, and, if he/she wants, sends a game creation request, building a new game. After this optional passage, the client enters the alphanumerical code of the game he/she wants to access. The server replies with a message containing information about the game searched (if it exists), and then the user chooses a name and asks to log into the game with a \doublequotes{player entrance message}. Finally, the server adds the new player to the game.

	\pagebreak

	\subsection{Planning phase (assistant card play)}

	\begin{center}
		\begin{sequencediagram}
			\newthread{c1}{client1: Client}
			\newinst{c2}{clientN: Client}
			\newinst[2]{u1}{user1: User}
			\newinst{u2}{userN: User}
			\newinst{g}{game: Game}

			\begin{call}{c1}{sendMessage(playAssistant)}{u1}{implicit ack}
				\begin{call}{u1}{getMessage()}{u1}{command}
				\end{call}
				\begin{call}{u1}{manageCommand()}{u1}{command}
				\end{call}
				\begin{call}{u1}{playAssistantCard()}{g}{implicit ack}
					\begin{call}{g}{Add assistant}{g}{command}
					\end{call}
					\begin{call}{g}{notifyAll()}{u1}{implicit ack}
						\begin{call}{u1}{sendMessage(status)}{c1}{implicit ack}
						\end{call}
					\end{call}
					\begin{call}{g}{notifyAll()}{u2}{implicit ack}
						\begin{call}{u2}{sendMessage(status)}{c2}{implicit ack}
						\end{call}
					\end{call}
				\end{call}
			\end{call}
		\end{sequencediagram}
	\end{center}

	This scenario represents the first game phase, during which each player has to choose and play an assistant card from his/her hand; this is achieved sending a \verb|playAssistant| message to the server. The server handles the command adding the corresponding played card into the model status and then it notifies the other users about this move, sending a message through each client's TCP tunnel (the current player's client doesn't need to be updated about this action).

	\pagebreak

	\subsection{Action phase, move \#1}

	\begin{center}
		\begin{sequencediagram}
			\newthread{c1}{client1: Client}
			\newinst{c2}{clientN: Client}
			\newinst[2]{u1}{user1: User}
			\newinst{u2}{userN: User}
			\newinst{g}{game: Game}

			\begin{call}{c1}{sendMessage(move)}{u1}{implicit ack}
				\begin{call}{u1}{getMessage()}{u1}{command}
				\end{call}
				\begin{call}{u1}{manageCommand()}{u1}{command}
				\end{call}
				\begin{call}{u1}{moveStudent()}{g}{implicit ack}
					\begin{call}{g}{removeFromEntrance()}{g}{command}
					\end{call}
					\begin{call}{g}{addToDiningRoom()}{g}{command}
					\end{call}
					\begin{call}{g}{checkProfessor()}{g}{command}
					\end{call}
					\begin{call}{g}{notifyAll()}{u1}{implicit ack}
						\begin{call}{u1}{sendMessage(status)}{c1}{implicit ack}
						\end{call}
					\end{call}
					\begin{call}{g}{notifyAll()}{u2}{implicit ack}
						\begin{call}{u2}{sendMessage(status)}{c2}{implicit ack}
						\end{call}
					\end{call}
				\end{call}
			\end{call}
		\end{sequencediagram}
	\end{center}

	\begin{center}
		\begin{sequencediagram}
			\newthread{c1}{client1: Client}
			\newinst{c2}{clientN: Client}
			\newinst[2]{u1}{user1: User}
			\newinst{u2}{userN: User}
			\newinst{g}{game: Game}

			\begin{call}{c1}{sendMessage(move)}{u1}{implicit ack}
				\begin{call}{u1}{getMessage()}{u1}{command}
				\end{call}
				\begin{call}{u1}{manageCommand()}{u1}{command}
				\end{call}
				\begin{call}{u1}{moveStudent()}{g}{implicit ack}
					\begin{call}{g}{removeFromEntrance()}{g}{command}
					\end{call}
					\begin{call}{g}{getIslandById()}{g}{command}
					\end{call}
					\begin{call}{g}{addStudent()}{g}{command}
					\end{call}
					\begin{call}{g}{notifyAll()}{u1}{implicit ack}
						\begin{call}{u1}{sendMessage(status)}{c1}{implicit ack}
						\end{call}
					\end{call}
					\begin{call}{g}{notifyAll()}{u2}{implicit ack}
						\begin{call}{u2}{sendMessage(status)}{c2}{implicit ack}
						\end{call}
					\end{call}
				\end{call}
			\end{call}
		\end{sequencediagram}
	\end{center}

	This scenario represents the first action the player can do during his/her turn. The client behind that player send a message telling the server that s/he would like to move a student from his/her school entrance to his/her dining room or an island. The server, once receive the message, sends it back to every other client (here generically represented as \verb|clientN|) in order to let them update their views. The message can carry information about special movements link to the character in the expert mode.

	\pagebreak

	\subsection{Action phase, move \#2}

	\begin{center}
		\begin{sequencediagram}
			\newthread{c1}{client1: Client}
			\newinst{c2}{clientN: Client}
			\newinst[2]{u1}{user1: User}
			\newinst{u2}{userN: User}
			\newinst{g}{game: Game}

			\begin{call}{c1}{sendMessage(move)}{u1}{implicit ack}
				\begin{call}{u1}{getMessage()}{u1}{command}
				\end{call}
				\begin{call}{u1}{manageCommand()}{u1}{command}
				\end{call}
				\begin{call}{u1}{moveMotherNature()}{g}{implicit ack}
					\begin{call}{g}{getIslandById()}{g}{command}
					\end{call}
					\begin{call}{g}{getInfluence()}{g}{command}
					\end{call}
					\begin{call}{g}{update tower}{g}{command}
					\end{call}
					\begin{call}{g}{notifyAll()}{u1}{implicit ack}
						\begin{call}{u1}{sendMessage(status)}{c1}{implicit ack}
						\end{call}
					\end{call}
					\begin{call}{g}{notifyAll()}{u2}{implicit ack}
						\begin{call}{u2}{sendMessage(status)}{c2}{implicit ack}
						\end{call}
					\end{call}
				\end{call}
			\end{call}
		\end{sequencediagram}
	\end{center}

	This scenario represents the second action the player can do during his/her turn. The client behind that player send a message telling the server that s/he would like to move mother nature to a specific island, that starts a sequence of call to update the state of the game model (influence, tower...). The server, once receive the message, sends it back to every other client (here generically represented as \verb|clientN|) in order to let them update their views.

	\pagebreak

	\subsection{Action phase, move \#3}

	\begin{center}
		\begin{sequencediagram}
			\newthread{c1}{client1: Client}
			\newinst{c2}{clientN: Client}
			\newinst[2]{u1}{user1: User}
			\newinst{u2}{userN: User}
			\newinst{g}{game: Game}

			\begin{call}{c1}{sendMessage(refill)}{u1}{implicit ack}
				\begin{call}{u1}{getMessage()}{u1}{command}
				\end{call}
				\begin{call}{u1}{manageCommand()}{u1}{command}
				\end{call}
				\begin{call}{u1}{refillEntrance()}{g}{implicit ack}
					\begin{call}{g}{notifyAll()}{u1}{implicit ack}
						\begin{call}{u1}{sendMessage(status)}{c1}{implicit ack}
						\end{call}
					\end{call}
					\begin{call}{g}{notifyAll()}{u2}{implicit ack}
						\begin{call}{u2}{sendMessage(status)}{c2}{implicit ack}
						\end{call}
					\end{call}
				\end{call}
			\end{call}
		\end{sequencediagram}
	\end{center}

	This scenario represents the last action the player can do during his/her turn. The client behind that player send a message telling the server that s/he took the students from a specific cloud to refill his/her school entrance. The server, once receive the message, sends it back to every other client (here generically represented as \verb|clientN|) in order to let them update their views.

	\subsection{Game end}

	\begin{center}
		\begin{sequencediagram}
			\newinst{c}{client: Client}
			\newinst[2]{u}{user: User}
			\newthread{g}{game: Game}

			\begin{call}{g}{notifyAll()}{u}{implicit ack}
				\begin{call}{u}{sendMessage(win)}{c}{implicit ack}
				\end{call}
			\end{call}
		\end{sequencediagram}
	\end{center}

	This scenarios represents the notification that the game has reached a point where it's concluded. In this case, the server notifies every client that the game has ended and if there is a winner, tells every client who is, otherwise says that the game ended tie.

\end{document}
